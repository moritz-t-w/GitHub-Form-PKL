/// You can use GitHub's form schema to configure forms for supported features.
///
/// This implementation is based on the GitHub documentation page
/// ["Syntax for GitHub's form schema"](https://docs.github.com/en/communities/using-templates-to-encourage-useful-issues-and-pull-requests/syntax-for-githubs-form-schema)
/// and contains a lot of the same documentation.
module com.github.form

/// Each type has unique attributes and validations.
/// /// | Type | Description |
/// | ---- | ----------- |
/// | `textarea` | A multi-line text field. |
/// | `input` | A single-line text field. |
/// | `dropdown` | A dropdown menu. |
/// | `checkboxes` | A set of checkboxes. |
typealias InputType = "textarea" |  "input" |  "dropdown" |  "checkboxes"

/// Each type has unique attributes and validations.
/// | Type | Description |
/// | ---- | ----------- |
/// | `markdown` | Markdown text that is displayed in the form to provide extra context to the user, but is **not submitted**. |
/// | `textarea` | A multi-line text field. |
/// | `input` | A single-line text field. |
/// | `dropdown` | A dropdown menu. |
/// | `checkboxes` | A set of checkboxes. |
typealias ElementType = "markdown" | InputType
/// A set of key-value pairs that determine the type of the element, the properties of the element,
/// and the constraints you want to apply to the element.
/// For some keys, the value is another set of key-value pairs.
abstract class Element {
  /// The type of element that you want to define.
  type: ElementType
  /// A set of key-value pairs that define the properties of the element.
  attributes : Any
  /// A set of key-value pairs that set constraints on the element.
  validations: Map<String, String>
}

abstract class Input extends Element {
  type: InputType
  /// The identifier for the elemkent[...]. Can only use alpha-numeric characters, -, and _.
  /// Must be unique in the form definition.
  /// If provided, the id is the canonical identifier for the field in URL query parameter prefills.
  id: String(matches(Regex("^[a-zA-Z0-9-_]+$")))
}
